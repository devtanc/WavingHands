<!DOCTYPE HTML>
<html ng-app="wavingHandsApp">
<head>
    <link rel=stylesheet type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
    <link rel=stylesheet type="text/css" href="styles.css" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.22/angular.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
</head>
<body ng-controller="HandsController">
    <table class="command-list">
        <tr>
            <td class="player" rowspan="2">You</td>
            <td class="header">RH</td>
            <td class="next">{{rightHandCmd}}</td>
            <td class="gesture"
                ng-repeat="turn in commandList"
                ng-class="{'chain':turn[1].chain, 'selected':turn[1].selected}"
                ng-mouseover="!persistList ? hoverChain($index, 1) : null"
                ng-mouseout="!persistList ? resetHover() : null"
                ng-mouseup="togglePersist($index, 1)">{{turn[1].gesture}}</td>
        </tr>
        <tr>
            <td class="header">LH</td>
            <td class="next">{{leftHandCmd}}</td>
            <td class="gesture"
                ng-repeat="turn in commandList"
                ng-class="{'chain':turn[0].chain, 'selected':turn[0].selected}"
                ng-mouseover="!persistList ? hoverChain($index, 0) : null"
                ng-mouseout="!persistList ? resetHover() : null"
                ng-mouseup="togglePersist($index, 0)">{{turn[0].gesture}}</td>
        </tr>
    </table>
    <table class="command-list">
        <tr>
            <td class="player" rowspan="2">Enemy</td>
            <td class="header">RH</td>
            <td class="next">{{rightHandCmd}}</td>
            <td class="gesture"
                ng-repeat="turn in commandList"
                ng-class="{chain: startGesture.hand == 'right' && $index < startGesture.index}"
                ng-mouseover="!persistList ? hoverChain($index, 'right') : null"
                ng-mouseout="!persistList ? resetHover() : null"
                ng-mouseup="togglePersist($index, 'right')">{{"-"}}</td>
        </tr>
        <tr>
            <td class="header">LH</td>
            <td class="next">{{leftHandCmd}}</td>
            <td class="gesture"
                ng-repeat="turn in commandList"
                ng-class="{chain: startGesture.hand == 'left' && $index < startGesture.index}"
                ng-mouseover="!persistList ? hoverChain($index, 'left') : null"
                ng-mouseout="!persistList ? resetHover() : null"
                ng-mouseup="togglePersist($index, 'left')">{{"-"}}</td>
        </tr>
    </table>
    <div class="console">
    </div>
    <div class="possible-spell-list">
        <div class="heading-sm">Potential Spells</div>
        <div class="heading-sm heading-sub">starting with: <code>{{beginningSequence}}</code></div>
        <div ng-repeat="spell in matchingSpells">{{spell.name}}: {{spell.sequence}}</div>
    </div>
    <div id="toolbar">
        <div class="toolbar input">
            <div class="inline">
                <div class="header">Left Hand</div>
                <div class="btn-group">
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][0]}" ng-click="setCmd(0, 0)">F</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][1]}" ng-click="setCmd(0, 1)">P</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][2]}" ng-click="setCmd(0, 2)">S</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][3]}" ng-click="setCmd(0, 3)">W</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][4]}" ng-click="setCmd(0, 4)">D</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][5]}" ng-click="setCmd(0, 5)">Stab</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][6]}" ng-click="setCmd(0, 6)">None</label>
                </div>
            </div>

            <label type="button" class="btn btn-default" ng-class="{active: buttonArray[0][7] && buttonArray[1][7]}" ng-click="setCmd(0, 7); setCmd(1, 7);">Clap</label>

            <div class="inline">
                <div class="header">Right Hand</div>
                <div class="btn-group">
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[1][0]}" ng-click="setCmd(1, 0)">F</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[1][1]}" ng-click="setCmd(1, 1)">P</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[1][2]}" ng-click="setCmd(1, 2)">S</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[1][3]}" ng-click="setCmd(1, 3)">W</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[1][4]}" ng-click="setCmd(1, 4)">D</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[1][5]}" ng-click="setCmd(1, 5)">Stab</label>
                    <label type="button" class="btn btn-default" ng-class="{active: buttonArray[1][6]}" ng-click="setCmd(1, 6)">None</label>
                </div>
            </div>
        </div>
        <div class="toolbar bottom">
            <button type="button" class="btn btn-block" ng-class="action.class" ng-click="commitTurn()">{{action.buttonText}}</button>
        </div>
    </div>
</body>
</html>